
// English Translations
const en = {
    "common": {
        "next": "Next",
        "back": "Back",
        "finish": "Finish",
        "history": "History",
        "week": "Week",
        "month": "Month",
        "year": "Year",
        "total": "Total",
        "average": "Average",
        "analyze": "Analyze with AI",
        "close": "Close",
        "date": "Date",
        "proFeature": "Pro Feature"
    },
    "onboarding": {
        "step1Title": "What is your main goal?",
        "step1Subtitle": "This helps us personalize your daily targets.",
        "step2Title": "What motivates you?",
        "step2Subtitle": "Understanding your 'why' is key to sustainable success.",
        "step3Title": "Health focus areas",
        "step3Subtitle": "Let us know where you want to improve.",
        "step4Title": "Let's talk about you",
        "step4Subtitle": "This data is used to calculate your basal metabolic rate.",
        "step5Title": "AI Personalization",
        "step5Subtitle": "We are preparing your roadmap...",
        "step5Analyzing": "AI analyzing your responses...",
        "step5Success": "Your personalized profile is ready!",
        "goals": {
            "weight_loss": { "title": "Weight Loss", "desc": "Burn fat healthily" },
            "muscle_gain": { "title": "Muscle Gain", "desc": "Optimize protein synthesis" },
            "energy": { "title": "Vitality & Energy", "desc": "Reduce daily fatigue" },
            "metabolic": { "title": "Metabolic Balance", "desc": "Track glucose & insulin" },
            "longevity": { "title": "Longevity", "desc": "Age in excellent health" }
        },
        "motivations": {
            "confidence": "Self-confidence",
            "health_scare": "Health / Medical recommendation",
            "performance": "Sports performance",
            "family": "Energy for my family",
            "routine": "Create a healthy routine"
        },
        "healthIssues": {
            "digestion": "Digestion / Bloating",
            "sleep": "Sleep Quality",
            "stress": "Stress Management",
            "joints": "Joint Pain",
            "focus": "Mental Clarity / Focus",
            "sugar": "Sugar Cravings"
        },
        "activityLevels": {
            "sedentary": "Sedentary (Desk job)",
            "light": "Light Activity",
            "moderate": "Active (Sports 3x/week)",
            "active": "Very Active (Sports 5x/week)",
            "very_active": "Athlete / Physical Job"
        }
    },
    "nav": {
        "dashboard": "Dashboard",
        "water": "Water",
        "food": "Food",
        "activity": "Activity",
        "fasting": "Fasting",
        "sleep": "Sleep",
        "settings": "Settings",
        "badges": "Badges",
        "admin": "Admin",
        "logout": "Logout"
    },
    "dashboard": {
        "title": "Dashboard",
        "waterToday": "Water (Today)",
        "caloriesToday": "Calories (Today)",
        "activityToday": "Activity (Today)",
        "fasting": "Fasting",
        "sleepToday": "Sleep (Today)",
        "fastingStatusActive": "Active...",
        "fastingStatusInactive": "Inactive",
        "achievementsTitle": "My Achievements",
        "goalsTitle": "My Goals",
        "edit": "Edit",
        "goalCalories": "Calories",
        "goalProtein": "Protein",
        "goalCarbs": "Carbs",
        "goalFat": "Fats",
        "goalWater": "Water",
        "goalActivity": "Activity",
        "goalFasting": "Fasting",
        "goalWeight": "Target Weight",
        "goalSleep": "Sleep (h)",
        "macrosTitle": "Macronutrient Progress (Today)",
        "protein": "Protein",
        "carbs": "Carbs",
        "fat": "Fats",
        "summaryTitle": "Summary",
        "summaryWeek": "Week",
        "summaryMonth": "Month",
        "summaryYear": "Year",
        "summaryWaterPerDay": "Water / day",
        "summaryCaloriesPerDay": "Calories / day",
        "summaryActivityPerDay": "Activity / day",
        "summaryFastingPerDay": "Fasting / day",
        "summarySleepPerDay": "Sleep / night",
        "summaryAvgWaterPerDay": "Avg Water / day",
        "summaryAvgCaloriesPerDay": "Avg Calories / day",
        "summaryAvgActivityPerDay": "Avg Activity / day",
        "summaryAvgFastingPerDay": "Avg Fasting / day",
        "summaryAvgSleepPerDay": "Avg Sleep / night",
        "summaryAvgWaterPerMonth": "Avg Water / month",
        "summaryAvgCaloriesPerMonth": "Avg Calories / month",
        "summaryAvgActivityPerMonth": "Avg Activity / month",
        "summaryAvgFastingPerMonth": "Avg Fasting / month",
        "summaryAvgSleepPerMonth": "Avg Sleep / month",
        "proFeatureTitle": "Advanced Statistics",
        "proFeatureDescription": "Upgrade to Pro to unlock weekly and monthly summaries and optimize your habits.",
        "proFeatureButton": "Upgrade to Pro",
        "trialMessage": "Pro Trial: Days remaining: {{days}}"
    },
    "waterTracker": {
        "title": "Hydration",
        "goal": "/ {{goal}} ml",
        "add": "Add",
        "addByVoice": "Add by Voice",
        "placeholder": "Amount (ml)",
        "historyTitle": "Today",
        "noEntries": "No water entries today."
    },
    "foodTracker": {
        "title": "Food Tracker",
        "proLabel": "(Pro)",
        "basicLabel": "(Basic)",
        "placeholderPro": "Describe your meal or scan it...",
        "placeholderBasic": "Ex: 1 apple and 1 yogurt",
        "listening": "Listening...",
        "upload": "or upload",
        "analyzeButton": "Analyze & Add",
        "analyzeButtonPro": "Analyze (Pro)",
        "analyzing": "Analyzing...",
        "geminiDisclaimer": "Powered by Google Gemini. Nutritional values are estimates.",
        "totalCalories": "Total Calories",
        "goal": "Goal: {{goal}} kcal",
        "mealsToday": "Today",
        "noMeals": "No meals logged today.",
        "confirmModalTitle": "Confirm your meal",
        "confirmModalDescription": "Adjust AI estimates if necessary.",
        "foodItemLabel": "Food Item",
        "portionLabel": "Portion",
        "caloriesLabel": "Calories (kcal)",
        "proteinLabel": "Protein (g)",
        "carbsLabel": "Carbs (g)",
        "fatLabel": "Fats (g)",
        "cancel": "Cancel",
        "confirmAdd": "Add selection to log",
        "errorAnalysis": "AI could not analyze your meal. Try again with a clearer description or image.",
        "errorCamera": "Cannot access camera. Check permissions.",
        "errorGeneric": "Error during AI analysis. Please try again.",
        "recipesTab": "AI Chef",
        "recipeInputLabel": "What's in your fridge or what are you craving?",
        "recipeInputPlaceholder": "Ex: Chicken, avocado, quick...",
        "recipeProLock": "AI Chef is reserved for Pro members.",
        "viewDetails": "Preparation",
        "hideDetails": "Hide",
        "ingredients": "Ingredients",
        "add": "Add",
        "generateImage": "Generate Photo",
        "generatingImage": "Creating..."
    },
    "activityTracker": {
        "title": "Physical Activity",
        "liveMode": "Live",
        "manualMode": "Manual",
        "selectActivity": "Choose an activity to start:",
        "startButton": "Start",
        "gpsError": "GPS Error: {{message}}",
        "gpsErrorSelect": "Please select an activity.",
        "distance": "Distance",
        "steps": "Steps (est.)",
        "calories": "Calories",
        "resume": "Resume",
        "pause": "Pause",
        "finish": "Finish",
        "manualNamePlaceholder": "Activity Name",
        "manualDurationPlaceholder": "Duration (min)",
        "manualCaloriesPlaceholder": "Calories",
        "manualStepsPlaceholder": "Steps (optional)",
        "addButton": "Add Activity",
        "historyTitle": "Today",
        "totalMinutes": "Total Minutes",
        "caloriesBurned": "Calories Burned",
        "noActivity": "No activity logged today.",
        "proLockMessage": "Live Mode (GPS & Pedometer) is reserved for Pro members.",
        "activityTypes": {
            "walk": "Walking",
            "run": "Running",
            "bike": "Cycling",
            "swim": "Swimming",
            "weightlifting": "Weightlifting",
            "hiit": "HIIT",
            "yoga": "Yoga",
            "pilates": "Pilates",
            "dance": "Dancing",
            "soccer": "Soccer",
            "basketball": "Basketball",
            "tennis": "Tennis",
            "hiking": "Hiking",
            "boxing": "Boxing",
            "crossfit": "Crossfit",
            "elliptical": "Elliptical",
            "rowing": "Rowing"
        }
    },
    "fastingTracker": {
        "title": "Intermittent Fasting",
        "proFeatureTitle": "Pro Feature",
        "proFeatureDescription": "Upgrade to Pro to unlock intermittent fasting tracking and optimize your metabolism.",
        "proFeatureButton": "Upgrade to Pro",
        "goal": "Goal: {{hours}} hours",
        "endButton": "End Fast",
        "selectPlan": "Choose your plan:",
        "planCategoryBeginner": "Beginner",
        "planCategoryIntermediate": "Intermediate",
        "planCategoryPro": "Pro",
        "planFastingHours": "{{hours}}h fast",
        "startButton": "Start {{hours}}h Fast",
        "historyTitle": "Today",
        "completedOn": "Completed on {{date}}",
        "startTime": "Start",
        "endTime": "End",
        "addLog": "Log Fast",
        "noFasts": "No fasts completed today.",
        "metabolicTitle": "Metabolic Evolution",
        "stages": {
            "sugarRise": "Sugar Rise",
            "sugarRiseDesc": "Your body digests the last meal and stores energy.",
            "sugarDrop": "Sugar Drop",
            "sugarDropDesc": "Insulin drops, body stops storing fat.",
            "gluconeogenesis": "Gluconeogenesis",
            "gluconeogenesisDesc": "Body taps into glycogen reserves.",
            "ketosis": "Ketosis (Fat Burning)",
            "ketosisDesc": "Body starts using fat as main energy source.",
            "autophagy": "Autophagy",
            "autophagyDesc": "Cellular cleaning and deep regeneration.",
            "growthHormone": "Growth Hormone",
            "growthHormoneDesc": "Hormone spike for muscle preservation and recovery."
        }
    },
    "sleepTracker": {
        "title": "Sleep & Recovery",
        "bedtime": "Bedtime",
        "waketime": "Wake time",
        "quality": "Sleep Quality",
        "qualityOptions": {
            "bad": "Bad",
            "average": "Average",
            "good": "Good",
            "excellent": "Excellent"
        },
        "addButton": "Log Sleep",
        "historyTitle": "Today",
        "totalHours": "Hours of Sleep",
        "noEntries": "No sleep data today.",
        "duration": "{{hours}}h {{minutes}}min",
        "goal": "Goal: {{hours}}h"
    },
    "insights": {
        "modalTitle": "AI Coach Analysis",
        "loading": "Analyzing your data...",
        "subtitle": "Here is what AI detected in your recent trends:",
        "disclaimer": "These tips are generated by AI and do not replace medical advice."
    },
    "settings": {
        "profileTitle": "My Profile",
        "changePhoto": "Change Photo",
        "save": "Save",
        "cancel": "Cancel",
        "firstName": "First Name",
        "lastName": "Last Name",
        "age": "Age",
        "ageUnit": "years",
        "gender": "Gender",
        "genderMale": "Male",
        "genderFemale": "Female",
        "genderOther": "Other",
        "selectGender": "Select",
        "weight": "Weight",
        "weightUnit": "kg",
        "weightUpdateHint": "Changing your weight here will add a point to your history.",
        "height": "Height",
        "heightUnit": "cm",
        "bmiTitle": "Your BMI",
        "bmiLabel": "BMI",
        "bmiCategory": {
            "underweight": "Underweight",
            "normal": "Normal Weight",
            "overweight": "Overweight",
            "obesity": "Obesity",
            "na": "N/A"
        },
        "updateProfileButton": "Update Profile",
        "profileSuccess": "Profile updated successfully!",
        "securityTitle": "Security",
        "currentPassword": "Current Password",
        "newPassword": "New Password",
        "confirmNewPassword": "Confirm New Password",
        "passwordErrorMatch": "New passwords do not match.",
        "passwordErrorLength": "New password must be at least 6 characters.",
        "passwordSuccess": "Password updated successfully!",
        "changePasswordButton": "Change Password",
        "notificationsTitle": "Notifications",
        "notificationsBlocked": "Notifications blocked",
        "notificationsBlockedMessage": "You have blocked notifications. To enable them, change your browser settings for this site.",
        "notificationsActivate": "Enable Notifications",
        "notificationsActivateMessage": "Get useful reminders to drink water and log meals.",
        "notificationsActivateButton": "Enable",
        "waterReminders": "Hydration Reminders",
        "waterRemindersDescription": "Get an alert if you haven't drunk water.",
        "frequency": "Frequency",
        "hour": "{{count}} hour",
        "hours": "{{count}} hours",
        "mealReminders": "Meal Reminders",
        "mealRemindersDescription": "Get an alert if you haven't eaten.",
        "dnd": "Do Not Disturb",
        "dndFrom": "From",
        "dndTo": "To",
        "languageTitle": "Language",
        "weightTracking": "Weight Progress",
        "noWeightData": "No weight data."
    },
    "badges": {
        "title": "My Badge Collection",
        "subtitle": "Unlock badges by achieving your health goals.",
        "newBadge": "New Badge Unlocked!",
        "continue": "Continue",
        "locked": "Locked",
        "earned": "Earned on {{date}}",
        "PREMIERE_GORGEE": { "name": "First Sip", "description": "You logged your first glass of water!" },
        "PREMIER_REPAS": { "name": "First Meal", "description": "You logged your first meal!" },
        "PREMIERE_ACTIVITE": { "name": "First Stride", "description": "You logged your first physical activity!" },
        "PREMIER_JEUNE": { "name": "First Discipline", "description": "You completed your first fast!" },
        "STREAK_3": { "name": "3 Day Streak", "description": "3 consecutive days of tracking." },
        "STREAK_7": { "name": "7 Day Streak", "description": "7 consecutive days of tracking." },
        "STREAK_14": { "name": "14 Day Streak", "description": "14 consecutive days of tracking." },
        "STREAK_30": { "name": "30 Day Streak", "description": "30 consecutive days of tracking." },
        "STREAK_90": { "name": "90 Day Streak", "description": "90 consecutive days of tracking." },
        "ACTIVITY_MINS_1000": { "name": "Bronze Athlete", "description": "Reached 1000 activity minutes." },
        "ACTIVITY_MINS_5000": { "name": "Silver Athlete", "description": "Reached 5000 activity minutes." },
        "ACTIVITY_MINS_10000": { "name": "Gold Athlete", "description": "Reached 10000 activity minutes." },
        "ACTIVITY_MINS_25000": { "name": "Platinum Athlete", "description": "Reached 25000 activity minutes." },
        "JEUNE_16H": { "name": "16h Fast", "description": "Completed a 16-hour fast." },
        "JEUNE_24H": { "name": "Fasting Warrior", "description": "Completed a 24-hour fast." },
        "JEUNE_SERIE_7": { "name": "Fasting Streak (7)", "description": "7 consecutive days with a completed fast." },
        "TOTAL_WATER_100": { "name": "Bronze Hydration", "description": "Logged 100 glasses of water." },
        "TOTAL_WATER_500": { "name": "Silver Hydration", "description": "Logged 500 glasses of water." },
        "TOTAL_WATER_1000": { "name": "Gold Hydration", "description": "Logged 1000 glasses of water." },
        "TOTAL_FOOD_100": { "name": "Bronze Gourmet", "description": "Logged 100 meals." },
        "TOTAL_FOOD_500": { "name": "Silver Gourmet", "description": "Logged 500 meals." },
        "TOTAL_FOOD_1000": { "name": "Gold Gourmet", "description": "Logged 1000 meals." },
        "ANNIVERSARY_0_5": { "name": "6 Months Progress", "description": "You've been using the app for 6 months!" },
        "ANNIVERSARY_1": { "name": "1 Year Progress", "description": "Congratulations on your first year!" },
        "SOMMEIL_8H": { "name": "Ideal Sleeper", "description": "You logged a full 8-hour night sleep." },
        "SOMMEIL_QUALITE_3": { "name": "Restorative Sleep", "description": "3 consecutive nights of good quality sleep." }
    },
    "login": {
        "welcome": "Welcome!",
        "subtitle": "Login to track your progress.",
        "emailLabel": "Email",
        "passwordLabel": "Password",
        "forgotPassword": "Forgot Password?",
        "resetTitle": "Reset Password",
        "resetSubtitle": "Enter your email to receive a link.",
        "resetButton": "Send Link",
        "resetSuccess": "Link sent! Check your emails.",
        "backToLogin": "Back to Login",
        "error": "Incorrect email or password.",
        "errorGeneric": "An error occurred. Please try again.",
        "button": "Login",
        "loading": "Logging in...",
        "signupPrompt": "No account yet?",
        "signupLink": "Sign up"
    },
    "signup": {
        "title": "Create Account",
        "subtitle": "Join us to start your health journey.",
        "passwordErrorLength": "Password must be at least 6 characters.",
        "errorExists": "This email is already used.",
        "button": "Sign Up",
        "loading": "Signing up...",
        "loginPrompt": "Already have an account?",
        "loginLink": "Login"
    },
    "landing": {
        "headerLogin": "Login",
        "headerSignup": "Sign Up",
        "heroTitle": "Your wellness coach, <1>powered by AI.</1>",
        "heroSubtitle": "More than an app, a life companion. Nutrition, hydration, movement, and serenity combined in one fluid experience.",
        "heroButton": "Start 7-Day Free Trial",
        "featuresTitle": "A holistic approach.",
        "featuresSubtitle": "The perfect balance between advanced technology and natural well-being.",
        "feature1Title": "Mindful Nutrition",
        "feature1Desc": "Take a photo. AI analyzes nutrients to help you eat mindfully.",
        "feature2Title": "Vital Hydration",
        "feature2Desc": "Track your water intake for renewed energy and mental clarity.",
        "feature3Title": "Movement & Vitality",
        "feature3Desc": "Whether yoga or running, every movement celebrates your body's health.",
        "feature4Title": "Cycles & Regeneration",
        "feature4Desc": "Intermittent fasting and sleep to allow your organism to recharge.",
        "mindBodyTitle": "Mind & Body Balance",
        "mindBodyDesc": "True health doesn't stop at the plate. OptiLife AI integrates sleep and fasting for complete cellular regeneration and increased mental clarity.",
        "howItWorksTitle": "Your path to balance",
        "howItWorksSubtitle": "Three steps to a healthier life.",
        "step1Title": "Observe",
        "step1Desc": "Simply log your daily habits without friction.",
        "step2Title": "Understand",
        "step2Desc": "Let AI reveal links between your diet, activity, and energy.",
        "step3Title": "Thrive",
        "step3Desc": "Reach your wellness goals sustainably and gently.",
        "ctaTitle": "Your best self awaits.",
        "ctaSubtitle": "Join a community that prioritizes sustainable health and global well-being.",
        "ctaButton": "Start Free Experience",
        "footer": "© 2024 OptiLife AI. Cultivate your well-being."
    },
    "proModal": {
        "title": "Upgrade to Pro",
        "description": "Unlock our most powerful features to reach your goals faster.",
        "feature1Title": "AI Food Analysis",
        "feature1Desc": "Scan your meals with your camera.",
        "feature2Title": "Advanced Statistics",
        "feature2Desc": "Visualize your progress over time.",
        "feature3Title": "Smart Voice Input",
        "feature3Desc": "Log your entries by speaking.",
        "button": "Unlock Pro Features",
        "loading": "Redirecting..."
    },
    "admin": {
        "title": "User Management",
        "statsTitle": "Global Statistics",
        "platformStats": "Adoption by Module (Last 3 months)",
        "totalUsers": "Total Users",
        "proUsers": "Pro Members",
        "admins": "Admin",
        "user": "User",
        "role": "Role",
        "userId": "User ID",
        "deleteConfirm": "Are you sure you want to delete this user?",
        "promote": "Promote to Admin",
        "demote": "Demote",
        "roleUpdated": "Role updated",
        "addAdmin": "Add Admin",
        "addAdminTitle": "New Admin",
        "usersPerModule": "Active Users"
    }
};

// Spanish Translations
const es = {
    "common": {
        "next": "Siguiente",
        "back": "Atrás",
        "finish": "Terminar",
        "history": "Historial",
        "week": "Semana",
        "month": "Mes",
        "year": "Año",
        "total": "Total",
        "average": "Promedio",
        "analyze": "Analizar con IA",
        "close": "Cerrar",
        "date": "Fecha",
        "proFeature": "Función Pro"
    },
    "onboarding": {
        "step1Title": "¿Cuál es tu objetivo principal?",
        "step1Subtitle": "Esto nos ayuda a personalizar tus metas diarias.",
        "step2Title": "¿Qué te motiva?",
        "step2Subtitle": "Entender tu 'por qué' es clave para el éxito sostenible.",
        "step3Title": "Áreas de enfoque de salud",
        "step3Subtitle": "Indícanos dónde quieres mejorar.",
        "step4Title": "Hablemos de ti",
        "step4Subtitle": "Estos datos se usan para calcular tu tasa metabólica basal.",
        "step5Title": "Personalización IA",
        "step5Subtitle": "Estamos preparando tu hoja de ruta...",
        "step5Analyzing": "IA analizando tus respuestas...",
        "step5Success": "¡Tu perfil personalizado está listo!",
        "goals": {
            "weight_loss": { "title": "Perder peso", "desc": "Quemar grasa saludablemente" },
            "muscle_gain": { "title": "Ganar músculo", "desc": "Optimizar la síntesis de proteínas" },
            "energy": { "title": "Vitalidad y Energía", "desc": "Reducir la fatiga diaria" },
            "metabolic": { "title": "Equilibrio metabólico", "desc": "Seguimiento de glucosa e insulina" },
            "longevity": { "title": "Longevidad", "desc": "Envejecer con excelente salud" }
        },
        "motivations": {
            "confidence": "Confianza en uno mismo",
            "health_scare": "Salud / Recomendación médica",
            "performance": "Rendimiento deportivo",
            "family": "Energía para mi familia",
            "routine": "Crear una rutina saludable"
        },
        "healthIssues": {
            "digestion": "Digestión / Hinchazón",
            "sleep": "Calidad del sueño",
            "stress": "Manejo del estrés",
            "joints": "Dolor en las articulaciones",
            "focus": "Claridad mental / Enfoque",
            "sugar": "Antojos de azúcar"
        },
        "activityLevels": {
            "sedentary": "Sedentario (Trabajo de escritorio)",
            "light": "Actividad ligera",
            "moderate": "Activo (Deporte 3x/semana)",
            "active": "Muy activo (Deporte 5x/semana)",
            "very_active": "Atleta / Trabajo físico"
        }
    },
    "nav": {
        "dashboard": "Panel de control",
        "water": "Agua",
        "food": "Comidas",
        "activity": "Actividad",
        "fasting": "Ayuno",
        "sleep": "Sueño",
        "settings": "Ajustes",
        "badges": "Insignias",
        "admin": "Admin",
        "logout": "Cerrar sesión"
    },
    "dashboard": {
        "title": "Panel de control",
        "waterToday": "Agua (Hoy)",
        "caloriesToday": "Calorías (Hoy)",
        "activityToday": "Actividad (Hoy)",
        "fasting": "Ayuno",
        "sleepToday": "Sueño (Hoy)",
        "fastingStatusActive": "Activo...",
        "fastingStatusInactive": "Inactivo",
        "achievementsTitle": "Mis Logros",
        "goalsTitle": "Mis Objetivos",
        "edit": "Editar",
        "goalCalories": "Calorías",
        "goalProtein": "Proteínas",
        "goalCarbs": "Carbohidratos",
        "goalFat": "Grasas",
        "goalWater": "Agua",
        "goalActivity": "Actividad",
        "goalFasting": "Ayuno",
        "goalWeight": "Peso Objetivo",
        "goalSleep": "Sueño (h)",
        "macrosTitle": "Progreso de Macronutrientes (Hoy)",
        "protein": "Proteínas",
        "carbs": "Carbohidratos",
        "fat": "Grasas",
        "summaryTitle": "Resumen",
        "summaryWeek": "Semana",
        "summaryMonth": "Mes",
        "summaryYear": "Año",
        "summaryWaterPerDay": "Agua / día",
        "summaryCaloriesPerDay": "Calorías / día",
        "summaryActivityPerDay": "Actividad / día",
        "summaryFastingPerDay": "Ayuno / día",
        "summarySleepPerDay": "Sueño / noche",
        "summaryAvgWaterPerDay": "Prom. Agua / día",
        "summaryAvgCaloriesPerDay": "Prom. Calorías / día",
        "summaryAvgActivityPerDay": "Prom. Actividad / día",
        "summaryAvgFastingPerDay": "Prom. Ayuno / día",
        "summaryAvgSleepPerDay": "Prom. Sueño / noche",
        "summaryAvgWaterPerMonth": "Prom. Agua / mes",
        "summaryAvgCaloriesPerMonth": "Prom. Calorías / mes",
        "summaryAvgActivityPerMonth": "Prom. Actividad / mes",
        "summaryAvgFastingPerMonth": "Prom. Ayuno / mes",
        "summaryAvgSleepPerMonth": "Prom. Sueño / mes",
        "proFeatureTitle": "Estadísticas Avanzadas",
        "proFeatureDescription": "Pásate a Pro para desbloquear resúmenes semanales y mensuales y optimizar tus hábitos.",
        "proFeatureButton": "Pasar a Pro",
        "trialMessage": "Prueba Pro: Días restantes: {{days}}"
    },
    "waterTracker": {
        "title": "Hidratación",
        "goal": "/ {{goal}} ml",
        "add": "Añadir",
        "addByVoice": "Añadir por voz",
        "placeholder": "Cantidad (ml)",
        "historyTitle": "Hoy",
        "noEntries": "Sin registros de agua hoy."
    },
    "foodTracker": {
        "title": "Seguimiento de Comidas",
        "proLabel": "(Pro)",
        "basicLabel": "(Básico)",
        "placeholderPro": "Describe tu comida o escanéala...",
        "placeholderBasic": "Ej: 1 manzana y 1 yogur",
        "listening": "Escuchando...",
        "upload": "o subir",
        "analyzeButton": "Analizar y Añadir",
        "analyzeButtonPro": "Analizar (Pro)",
        "analyzing": "Analizando...",
        "geminiDisclaimer": "Impulsado por Google Gemini. Los valores nutricionales son estimaciones.",
        "totalCalories": "Calorías Totales",
        "goal": "Objetivo: {{goal}} kcal",
        "mealsToday": "Hoy",
        "noMeals": "Sin comidas registradas hoy.",
        "confirmModalTitle": "Confirma tu comida",
        "confirmModalDescription": "Ajusta las estimaciones de IA si es necesario.",
        "foodItemLabel": "Alimento",
        "portionLabel": "Porción",
        "caloriesLabel": "Calorías (kcal)",
        "proteinLabel": "Proteínas (g)",
        "carbsLabel": "Carbohidratos (g)",
        "fatLabel": "Grasas (g)",
        "cancel": "Cancelar",
        "confirmAdd": "Añadir selección al registro",
        "errorAnalysis": "La IA no pudo analizar tu comida. Intenta de nuevo con una descripción o imagen más clara.",
        "errorCamera": "No se puede acceder a la cámara. Verifica los permisos.",
        "errorGeneric": "Error durante el análisis de IA. Por favor intenta de nuevo.",
        "recipesTab": "Chef IA",
        "recipeInputLabel": "¿Qué tienes en tu refri o qué se te antoja?",
        "recipeInputPlaceholder": "Ej: Pollo, aguacate, rápido...",
        "recipeProLock": "El Chef IA está reservado para miembros Pro.",
        "viewDetails": "Preparación",
        "hideDetails": "Ocultar",
        "ingredients": "Ingredientes",
        "add": "Añadir",
        "generateImage": "Generar Foto",
        "generatingImage": "Creando..."
    },
    "activityTracker": {
        "title": "Actividad Física",
        "liveMode": "En vivo",
        "manualMode": "Manual",
        "selectActivity": "Elige una actividad para comenzar:",
        "startButton": "Iniciar",
        "gpsError": "Error GPS: {{message}}",
        "gpsErrorSelect": "Por favor selecciona una actividad.",
        "distance": "Distancia",
        "steps": "Pasos (est.)",
        "calories": "Calorías",
        "resume": "Reanudar",
        "pause": "Pausa",
        "finish": "Terminar",
        "manualNamePlaceholder": "Nombre de actividad",
        "manualDurationPlaceholder": "Duración (min)",
        "manualCaloriesPlaceholder": "Calorías",
        "manualStepsPlaceholder": "Pasos (opcional)",
        "addButton": "Añadir Actividad",
        "historyTitle": "Hoy",
        "totalMinutes": "Minutos totales",
        "caloriesBurned": "Calorías quemadas",
        "noActivity": "Sin actividad registrada hoy.",
        "proLockMessage": "El modo En Vivo (GPS y Podómetro) está reservado para miembros Pro.",
        "activityTypes": {
            "walk": "Caminar",
            "run": "Correr",
            "bike": "Ciclismo",
            "swim": "Natación",
            "weightlifting": "Levantamiento de pesas",
            "hiit": "HIIT",
            "yoga": "Yoga",
            "pilates": "Pilates",
            "dance": "Baile",
            "soccer": "Fútbol",
            "basketball": "Baloncesto",
            "tennis": "Tenis",
            "hiking": "Senderismo",
            "boxing": "Boxeo",
            "crossfit": "Crossfit",
            "elliptical": "Elíptica",
            "rowing": "Remo"
        }
    },
    "fastingTracker": {
        "title": "Ayuno Intermitente",
        "proFeatureTitle": "Función Pro",
        "proFeatureDescription": "Pásate a Pro para desbloquear el seguimiento de ayuno intermitente y optimizar tu metabolismo.",
        "proFeatureButton": "Pasar a Pro",
        "goal": "Objetivo: {{hours}} horas",
        "endButton": "Terminar Ayuno",
        "selectPlan": "Elige tu plan:",
        "planCategoryBeginner": "Principiante",
        "planCategoryIntermediate": "Intermedio",
        "planCategoryPro": "Pro",
        "planFastingHours": "Ayuno de {{hours}}h",
        "startButton": "Comenzar Ayuno de {{hours}}h",
        "historyTitle": "Hoy",
        "completedOn": "Completado el {{date}}",
        "startTime": "Inicio",
        "endTime": "Fin",
        "addLog": "Registrar Ayuno",
        "noFasts": "Sin ayunos completados hoy.",
        "metabolicTitle": "Evolución Metabólica",
        "stages": {
            "sugarRise": "Subida de Azúcar",
            "sugarRiseDesc": "Tu cuerpo digiere la última comida y almacena energía.",
            "sugarDrop": "Bajada de Azúcar",
            "sugarDropDesc": "La insulina baja, el cuerpo deja de almacenar grasa.",
            "gluconeogenesis": "Gluconeogénesis",
            "gluconeogenesisDesc": "El cuerpo recurre a las reservas de glucógeno.",
            "ketosis": "Cetosis (Quema de Grasa)",
            "ketosisDesc": "El cuerpo comienza a usar grasa como fuente principal de energía.",
            "autophagy": "Autofagia",
            "autophagyDesc": "Limpieza celular y regeneración profunda.",
            "growthHormone": "Hormona del Crecimiento",
            "growthHormoneDesc": "Pico hormonal para preservación muscular y recuperación."
        }
    },
    "sleepTracker": {
        "title": "Sueño y Recuperación",
        "bedtime": "Hora de acostarse",
        "waketime": "Hora de levantarse",
        "quality": "Calidad del sueño",
        "qualityOptions": {
            "bad": "Mala",
            "average": "Media",
            "good": "Buena",
            "excellent": "Excelente"
        },
        "addButton": "Registrar Sueño",
        "historyTitle": "Hoy",
        "totalHours": "Horas de sueño",
        "noEntries": "Sin datos de sueño hoy.",
        "duration": "{{hours}}h {{minutes}}min",
        "goal": "Objetivo: {{hours}}h"
    },
    "insights": {
        "modalTitle": "Análisis Coach IA",
        "loading": "Analizando tus datos...",
        "subtitle": "Esto es lo que la IA detectó en tus tendencias recientes:",
        "disclaimer": "Estos consejos son generados por IA y no reemplazan el consejo médico."
    },
    "settings": {
        "profileTitle": "Mi Perfil",
        "changePhoto": "Cambiar foto",
        "save": "Guardar",
        "cancel": "Cancelar",
        "firstName": "Nombre",
        "lastName": "Apellido",
        "age": "Edad",
        "ageUnit": "años",
        "gender": "Género",
        "genderMale": "Hombre",
        "genderFemale": "Mujer",
        "genderOther": "Otro",
        "selectGender": "Seleccionar",
        "weight": "Peso",
        "weightUnit": "kg",
        "weightUpdateHint": "Cambiar tu peso aquí añadirá un punto a tu historial.",
        "height": "Altura",
        "heightUnit": "cm",
        "bmiTitle": "Tu IMC",
        "bmiLabel": "IMC",
        "bmiCategory": {
            "underweight": "Bajo peso",
            "normal": "Peso normal",
            "overweight": "Sobrepeso",
            "obesity": "Obesidad",
            "na": "N/A"
        },
        "updateProfileButton": "Actualizar Perfil",
        "profileSuccess": "¡Perfil actualizado con éxito!",
        "securityTitle": "Seguridad",
        "currentPassword": "Contraseña actual",
        "newPassword": "Nueva contraseña",
        "confirmNewPassword": "Confirmar nueva contraseña",
        "passwordErrorMatch": "Las nuevas contraseñas no coinciden.",
        "passwordErrorLength": "La nueva contraseña debe tener al menos 6 caracteres.",
        "passwordSuccess": "¡Contraseña actualizada con éxito!",
        "changePasswordButton": "Cambiar contraseña",
        "notificationsTitle": "Notificaciones",
        "notificationsBlocked": "Notificaciones bloqueadas",
        "notificationsBlockedMessage": "Has bloqueado las notificaciones. Para activarlas, cambia la configuración de tu navegador para este sitio.",
        "notificationsActivate": "Habilitar notificaciones",
        "notificationsActivateMessage": "Recibe recordatorios útiles para beber agua y registrar comidas.",
        "notificationsActivateButton": "Habilitar",
        "waterReminders": "Recordatorios de hidratación",
        "waterRemindersDescription": "Recibe una alerta si no has bebido agua.",
        "frequency": "Frecuencia",
        "hour": "{{count}} hora",
        "hours": "{{count}} horas",
        "mealReminders": "Recordatorios de comida",
        "mealRemindersDescription": "Recibe una alerta si no has comido.",
        "dnd": "No molestar",
        "dndFrom": "De",
        "dndTo": "A",
        "languageTitle": "Idioma",
        "weightTracking": "Progreso de Peso",
        "noWeightData": "Sin datos de peso."
    },
    "badges": {
        "title": "Mi Colección de Insignias",
        "subtitle": "Desbloquea insignias logrando tus objetivos de salud.",
        "newBadge": "¡Nueva Insignia Desbloqueada!",
        "continue": "Continuar",
        "locked": "Bloqueado",
        "earned": "Obtenido el {{date}}",
        "PREMIERE_GORGEE": { "name": "Primer Sorbo", "description": "¡Registraste tu primer vaso de agua!" },
        "PREMIER_REPAS": { "name": "Primera Comida", "description": "¡Registraste tu primera comida!" },
        "PREMIERE_ACTIVITE": { "name": "Primer Paso", "description": "¡Registraste tu primera actividad física!" },
        "PREMIER_JEUNE": { "name": "Primera Disciplina", "description": "¡Completaste tu primer ayuno!" },
        "STREAK_3": { "name": "Racha de 3 Días", "description": "3 días consecutivos de seguimiento." },
        "STREAK_7": { "name": "Racha de 7 Días", "description": "7 días consecutivos de seguimiento." },
        "STREAK_14": { "name": "Racha de 14 Días", "description": "14 días consecutivos de seguimiento." },
        "STREAK_30": { "name": "Racha de 30 Días", "description": "30 días consecutivos de seguimiento." },
        "STREAK_90": { "name": "Racha de 90 Días", "description": "90 días consecutivos de seguimiento." },
        "ACTIVITY_MINS_1000": { "name": "Atleta Bronce", "description": "Alcanzó 1000 minutos de actividad." },
        "ACTIVITY_MINS_5000": { "name": "Atleta Plata", "description": "Alcanzó 5000 minutos de actividad." },
        "ACTIVITY_MINS_10000": { "name": "Atleta Oro", "description": "Alcanzó 10000 minutos de actividad." },
        "ACTIVITY_MINS_25000": { "name": "Atleta Platino", "description": "Alcanzó 25000 minutos de actividad." },
        "JEUNE_16H": { "name": "Ayuno 16h", "description": "Completó un ayuno de 16 horas." },
        "JEUNE_24H": { "name": "Guerrero del Ayuno", "description": "Completó un ayuno de 24 horas." },
        "JEUNE_SERIE_7": { "name": "Racha de Ayuno (7)", "description": "7 días consecutivos con un ayuno completado." },
        "TOTAL_WATER_100": { "name": "Hidratación Bronce", "description": "Registró 100 vasos de agua." },
        "TOTAL_WATER_500": { "name": "Hidratación Plata", "description": "Registró 500 vasos de agua." },
        "TOTAL_WATER_1000": { "name": "Hidratación Oro", "description": "Registró 1000 vasos de agua." },
        "TOTAL_FOOD_100": { "name": "Gourmet Bronce", "description": "Registró 100 comidas." },
        "TOTAL_FOOD_500": { "name": "Gourmet Plata", "description": "Registró 500 comidas." },
        "TOTAL_FOOD_1000": { "name": "Gourmet Oro", "description": "Registró 1000 comidas." },
        "ANNIVERSARY_0_5": { "name": "6 Meses de Progreso", "description": "¡Has estado usando la aplicación por 6 meses!" },
        "ANNIVERSARY_1": { "name": "1 Año de Progreso", "description": "¡Felicidades por tu primer año!" },
        "SOMMEIL_8H": { "name": "Dormilón Ideal", "description": "Registraste una noche completa de 8 horas." },
        "SOMMEIL_QUALITE_3": { "name": "Sueño Reparador", "description": "3 noches consecutivas de sueño de buena calidad." }
    },
    "login": {
        "welcome": "¡Bienvenido!",
        "subtitle": "Inicia sesión para seguir tu progreso.",
        "emailLabel": "Email",
        "passwordLabel": "Contraseña",
        "forgotPassword": "¿Olvidaste tu contraseña?",
        "resetTitle": "Restablecer Contraseña",
        "resetSubtitle": "Ingresa tu email para recibir un enlace.",
        "resetButton": "Enviar Enlace",
        "resetSuccess": "¡Enlace enviado! Revisa tus emails.",
        "backToLogin": "Volver a Iniciar Sesión",
        "error": "Email o contraseña incorrectos.",
        "errorGeneric": "Ocurrió un error. Por favor intenta de nuevo.",
        "button": "Iniciar Sesión",
        "loading": "Iniciando sesión...",
        "signupPrompt": "¿Aún no tienes cuenta?",
        "signupLink": "Regístrate"
    },
    "signup": {
        "title": "Crear Cuenta",
        "subtitle": "Únete para comenzar tu viaje de salud.",
        "passwordErrorLength": "La contraseña debe tener al menos 6 caracteres.",
        "errorExists": "Este email ya está en uso.",
        "button": "Registrarse",
        "loading": "Registrando...",
        "loginPrompt": "¿Ya tienes una cuenta?",
        "loginLink": "Inicia sesión"
    },
    "landing": {
        "headerLogin": "Iniciar Sesión",
        "headerSignup": "Registrarse",
        "heroTitle": "Tu coach de bienestar, <1>impulsado por IA.</1>",
        "heroSubtitle": "Más que una app, un compañero de vida. Nutrición, hidratación, movimiento y serenidad combinados en una experiencia fluida.",
        "heroButton": "Iniciar Prueba Gratuita de 7 Días",
        "featuresTitle": "Un enfoque holístico.",
        "featuresSubtitle": "El equilibrio perfecto entre tecnología avanzada y bienestar natural.",
        "feature1Title": "Nutrición Consciente",
        "feature1Desc": "Toma una foto. La IA analiza nutrientes para ayudarte a comer conscientemente.",
        "feature2Title": "Hidratación Vital",
        "feature2Desc": "Sigue tu ingesta de agua para energía renovada y claridad mental.",
        "feature3Title": "Movimiento y Vitalidad",
        "feature3Desc": "Ya sea yoga o correr, cada movimiento celebra la salud de tu cuerpo.",
        "feature4Title": "Ciclos y Regeneración",
        "feature4Desc": "Ayuno intermitente y sueño para permitir que tu organismo se recargue.",
        "mindBodyTitle": "Equilibrio Cuerpo y Mente",
        "mindBodyDesc": "La verdadera salud no termina en el plato. OptiLife AI integra sueño y ayuno para regeneración celular completa y mayor claridad mental.",
        "howItWorksTitle": "Tu camino al equilibrio",
        "howItWorksSubtitle": "Tres pasos para una vida más saludable.",
        "step1Title": "Observa",
        "step1Desc": "Simplemente registra tus hábitos diarios sin fricción.",
        "step2Title": "Entiende",
        "step2Desc": "Deja que la IA revele vínculos entre tu dieta, actividad y energía.",
        "step3Title": "Prospera",
        "step3Desc": "Alcanza tus objetivos de bienestar de manera sostenible y suave.",
        "ctaTitle": "Tu mejor versión te espera.",
        "ctaSubtitle": "Únete a una comunidad que prioriza la salud sostenible y el bienestar global.",
        "ctaButton": "Comenzar Experiencia Gratuita",
        "footer": "© 2024 OptiLife AI. Cultiva tu bienestar."
    },
    "proModal": {
        "title": "Pásate a Pro",
        "description": "Desbloquea nuestras funciones más poderosas para alcanzar tus metas más rápido.",
        "feature1Title": "Análisis de Alimentos con IA",
        "feature1Desc": "Escanea tus comidas con tu cámara.",
        "feature2Title": "Estadísticas Avanzadas",
        "feature2Desc": "Visualiza tu progreso a lo largo del tiempo.",
        "feature3Title": "Entrada de Voz Inteligente",
        "feature3Desc": "Registra tus entradas hablando.",
        "button": "Desbloquear Funciones Pro",
        "loading": "Redirigiendo..."
    },
    "admin": {
        "title": "Gestión de Usuarios",
        "statsTitle": "Estadísticas Globales",
        "platformStats": "Adopción por Módulo (Últimos 3 meses)",
        "totalUsers": "Usuarios Totales",
        "proUsers": "Miembros Pro",
        "admins": "Admin",
        "user": "Usuario",
        "role": "Rol",
        "userId": "ID de Usuario",
        "deleteConfirm": "¿Estás seguro de que deseas eliminar este usuario?",
        "promote": "Promover a Admin",
        "demote": "Degradar",
        "roleUpdated": "Rol actualizado",
        "addAdmin": "Añadir Admin",
        "addAdminTitle": "Nuevo Admin",
        "usersPerModule": "Usuarios Activos"
    }
};

import React, { createContext, useContext, useEffect, useState } from 'react';

// ... (French translation 'fr' object remains here, likely imported or defined above)

const translations = { fr, en, es };

export type Language = 'fr' | 'en' | 'es';

interface I18nContextType {
    language: Language;
    setLanguage: (lang: Language) => void;
    t: (key: string, options?: { [key: string]: string | number | undefined }) => string;
}

const I18nContext = createContext<I18nContextType | undefined>(undefined);

const interpolate = (str: string, options: { [key: string]: string | number | undefined }) => {
    let result = str;
    for (const key in options) {
        if (options[key] !== undefined) {
            result = result.replace(new RegExp(`{{${key}}}`, 'g'), String(options[key]));
        }
    }
    return result;
};

export const I18nProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
    const [language, setLanguage] = useState<Language>('fr');

    useEffect(() => {
        const savedLang = localStorage.getItem('appLanguage') as Language;
        if (savedLang && (savedLang === 'fr' || savedLang === 'en' || savedLang === 'es')) {
            setLanguage(savedLang);
        }
    }, []);

    useEffect(() => {
        document.documentElement.lang = language;
        localStorage.setItem('appLanguage', language);
    }, [language]);

    const t = (key: string, options?: { [key: string]: string | number | undefined }) => {
        const langTranslations = translations[language];
        const translation = key.split('.').reduce((obj: any, k) => (obj ? obj[k] : undefined), langTranslations);

        if (typeof translation !== 'string') {
            console.warn(`Translation missing for key: ${key} in language: ${language}`);
            return key;
        }

        return options ? interpolate(translation, options) : translation;
    };

    return (
        <I18nContext.Provider value={{ language, setLanguage, t }}>
            {children}
        </I18nContext.Provider>
    );
};

export const useTranslation = () => {
    const context = useContext(I18nContext);
    if (!context) {
        throw new Error('useTranslation must be used within an I18nProvider');
    }
    return context;
};
